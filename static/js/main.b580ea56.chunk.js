(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{14:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),i=r(6),u=r.n(i),o=(r(5),n.a.createContext());var l=function(){var e=Object(a.useContext)(o),t=e.data,r=e.filteredData,i=e.filter,u=["name","rotation_period","orbital_period","diameter","climate","gravity","terrain","surface_water","population","films","created","edited","url"],l=(""===i.filterByName.name?t:r).map((function(e){return u.map((function(t){return e[t]}))}));return n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,u.map((function(e,t){return n.a.createElement("th",{key:t},e)})))),n.a.createElement("tbody",null,l.map((function(e,t){return n.a.createElement("tr",{key:t},e.map((function(e,t){return n.a.createElement("td",{key:t},e)})))}))))};function c(){var e=Object(a.useContext)(o),t=e.searchInput,r=e.setNumeric,i=e.searchPopulation,u=e.searchOrbitalPeriod,l=e.searchDiameter,c=e.searchRotationPeriod,s=e.searchSurfaceWater,f=e.selectColumn,m=e.selectComparison,p=e.selectValue,d=e.setSelectColumn,b=e.setSelectComparison,v=e.setSelectValue,h=e.comparisonArray,E=e.columnArray,j=e.filter,O=e.data,y=e.setData,N=j.filterByNumericValues.map((function(e){return e.comparison}));return n.a.createElement("div",null,n.a.createElement("h1",null,"Star Wars Planet Search"),n.a.createElement("input",{type:"text",name:"name",id:"name","data-testid":"name-filter",onChange:function(e){return t(e.target.value)}}),n.a.createElement("select",{name:"filtros",id:"filtros","data-testid":"column-filter",onChange:function(e){var t=e.target;d(t.value)}},E.map((function(e){return e!==f?n.a.createElement("option",{value:e},e):"error"}))),n.a.createElement("select",{name:"filtros",id:"filtros","data-testid":"comparison-filter",onChange:function(e){var t=e.target;b(t.value)}},h.map((function(e,t){return e!==N[t]?n.a.createElement("option",{value:e},e):"error"}))),n.a.createElement("input",{type:"number",name:"name",id:"name",value:p,placeholder:"0","data-testid":"value-filter",onChange:function(e){var t=e.target;v(t.value)}}),n.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:function(){"population"===f&&0!==p?(i(f,m,p),r(f,m,p)):"orbital_period"===f?(u(f,m,p),r(f,m,p)):"rotation_period"===f?(c(f,m,p),r(f,m,p)):"diameter"===f?(l(f,m,p),r(f,m,p)):"surface_water"===f?(s(f,m,p),r(f,m,p)):y(O.slice(2))}},"filtrar"))}var s=r(3),f=r(2),m=r.n(f),p=r(7),d=r(1);function b(e){var t=e.children,r=Object(a.useState)([{}]),i=Object(d.a)(r,2),u=i[0],l=i[1],c=Object(a.useState)(""),f=Object(d.a)(c,2),b=f[0],v=f[1],h=Object(a.useState)(""),E=Object(d.a)(h,2),j=E[0],O=E[1],y=Object(a.useState)(0),N=Object(d.a)(y,2),C=N[0],S=N[1],_=Object(a.useState)([{}]),g=Object(d.a)(_,2),w=g[0],q=g[1],x=Object(a.useState)(["maior que","menor que","igual a"]),k=Object(d.a)(x,1)[0],B=Object(a.useState)(["population","rotation_period","orbital_period","diameter","surface_water"]),P=Object(d.a)(B,1)[0],V=Object(a.useState)({filterByName:{name:""},filterByNumericValues:[{column:"",comparison:"",value:0}]}),D=Object(d.a)(V,2),A=D[0],I=D[1];Object(a.useEffect)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi.dev/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:(r=(r=e.sent).results).forEach((function(e){delete e.residents})),l(r),q(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){!function(){if(""!==A.filterByName.name){var e=u.filter((function(e){return e.name.toLowerCase().includes(A.filterByName.name.toLowerCase())}));q(e)}}()}),[A]);var W={data:u,setData:l,filter:A,setFilter:I,searchInput:function(e){I(Object(s.a)(Object(s.a)({},A),{},{filterByName:{name:e}}))},setNumeric:function(e,t,r){A.filterByNumericValues.push({column:e,comparison:t,value:r})},filteredData:w,searchPopulation:function(e,t,r){if("maior que"===t){var a=u.filter((function(e){return Number(e.population)>r}));l(a)}else if("menor que"===t){var n=u.filter((function(e){return Number(e.population)<r}));l(n)}else if("igual a"===t){var i=u.filter((function(e){return e.population===r}));l(i)}else l(u.slice(2))},searchOrbitalPeriod:function(e,t,r){if("maior que"===t){var a=u.filter((function(e){return Number(e.orbital_period)>r}));l(a)}else if("menor que"===t){var n=u.filter((function(e){return Number(e.orbital_period)<r}));l(n)}else if("igual a"===t){var i=u.filter((function(e){return e.orbital_period===r}));l(i)}else l(u.slice(2))},searchDiameter:function(e,t,r){if("maior que"===t){var a=u.filter((function(e){return Number(e.diameter)>r}));l(a)}else if("menor que"===t){var n=u.filter((function(e){return Number(e.diameter)<r}));l(n)}else if("igual a"===t){var i=u.filter((function(e){return e.diameter===r}));l(i)}else l(u.slice(2))},searchRotationPeriod:function(e,t,r){if("maior que"===t){var a=u.filter((function(e){return Number(e.rotation_period)>r}));l(a)}else if("menor que"===t){var n=u.filter((function(e){return Number(e.rotation_period)<r}));l(n)}else if("igual a"===t){var i=u.filter((function(e){return e.rotation_period===r}));l(i)}else l(u.slice(2))},searchSurfaceWater:function(e,t,r){if("maior que"===t){var a=u.filter((function(e){return Number(e.surface_water)>r}));l(a)}else if("menor que"===t){var n=u.filter((function(e){return Number(e.surface_water)<r}));l(n)}else if("igual a"===t){var i=u.filter((function(e){return e.surface_water===r}));l(i)}else l(u.slice(2))},selectColumn:b,selectComparison:j,selectValue:C,setSelectColumn:v,setSelectComparison:O,setSelectValue:S,comparisonArray:k,columnArray:P};return n.a.createElement("div",null,n.a.createElement("main",null,n.a.createElement(o.Provider,{value:W},t)))}var v=function(){return n.a.createElement(b,null,n.a.createElement(c,null),n.a.createElement(l,null))};u.a.render(n.a.createElement(v,null),document.getElementById("root"))},5:function(e,t,r){},8:function(e,t,r){e.exports=r(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.b580ea56.chunk.js.map